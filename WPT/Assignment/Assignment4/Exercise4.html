<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 4</title>
</head>
<body>
    <script>
        /*
        Exercise 4:
        Modify fetchData from Exercise 3 to include error handling.
        Requirements:
        ●  Call the callback with an error message if an error occurs; otherwise, pass
        the “response.”
        ●  Handle the error gracefully by logging it if it occurs.
        */

        function fetchData(url, callback) {
            setTimeout(() => {
                if (url.includes('valid')) {
                const response = `Successfully fetched data from ${url}`;
                callback(null, response);
                } else {
                const error = `Error: Invalid URL - ${url}`;
                callback(error, null);
                }
            }, 2000);
        }
        fetchData('https://api.example.com/valid', (error, response) => {
            if (error) {
                console.error('Error occurred:', error);
            } else {
                console.log('Success:', response);
            }
        });

        fetchData('https://api.example.com/invalid', (error, response) => {
            if (error) {
                console.error('Error occurred:', error);
            } else {
                console.log('Success:', response);
            }
        });

    </script>
</body>
</html>